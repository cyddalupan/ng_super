"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(C,p,i)=>{i.r(p),i.d(p,{HomePageModule:()=>M});var g=i(6895),r=i(4556),c=i(433),d=i(3013),u=i(5861),e=i(8256),f=i(5830),m=i(5970);const h=function(o){return{animate__shakeX:o}};function v(o,l){if(1&o&&(e.TgZ(0,"ion-text",12),e._uU(1),e.qZA()),2&o){const n=e.oxw();e.Q6J("ngClass",e.VKq(2,h,n.userError)),e.xp6(1),e.Oqu(n.userError)}}function x(o,l){1&o&&(e.TgZ(0,"div",13)(1,"div",14),e._UZ(2,"i",15),e.TgZ(3,"span"),e._uU(4,"Logging in..."),e.qZA()()())}const P=[{path:"",component:(()=>{class o{constructor(n,a,t){this.apiService=n,this.alertService=a,this.router=t,this.credentials={username:"",password:""},this.userError="",this.isLoading=!1}login(){var n=this;return(0,u.Z)(function*(){var a;n.userError="",n.credentials.username&&n.credentials.password?(n.isLoading=!0,n.apiService.login(n.credentials).subscribe({next:(a=(0,u.Z)(function*(t){localStorage.setItem("token",t.token),n.isLoading=!1,yield n.alertService.showSuccess("Login successful"),n.router.navigate(["/dashboard"],{replaceUrl:!0})}),function(s){return a.apply(this,arguments)}),error:function(){var a=(0,u.Z)(function*(t){if(n.isLoading=!1,401===t.status)n.userError="Invalid username or password.";else{let s=t.error?.error||"An error occurred. Please try again.";0===t.status?s="Cannot reach server. Check CORS or server status.":500===t.status?s="Server error. Try later.":404===t.status&&(s="API endpoint not found. Check server configuration."),yield n.alertService.showError(s,t)}console.error("Login error:",t)});return function(s){return a.apply(this,arguments)}}()})):n.userError="Please enter username and password"})()}}return o.\u0275fac=function(n){return new(n||o)(e.Y36(f.s),e.Y36(m.c),e.Y36(d.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-home"]],decls:23,vars:5,consts:[[1,"ion-padding"],[1,"login-container"],["src","assets/logo.png","alt","iweb Logo",1,"logo","animate__animated","animate__fadeInDown"],["name","person","slot","start",1,"fa","fa-user"],["position","floating"],["placeholder","Enter username",3,"ngModel","ngModelChange"],["name","lock-closed","slot","start",1,"fa","fa-lock"],["type","password","placeholder","Enter password",3,"ngModel","ngModelChange"],["expand","block",3,"disabled","click"],["name","log-in-outline","slot","start",1,"fa","fa-sign-in-alt"],["class","error animate__animated",3,"ngClass",4,"ngIf"],["class","loading-overlay",4,"ngIf"],[1,"error","animate__animated",3,"ngClass"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin"]],template:function(n,a){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"iweb"),e.qZA()()(),e.TgZ(4,"ion-content",0)(5,"div",1),e._UZ(6,"img",2),e.TgZ(7,"ion-item"),e._UZ(8,"ion-icon",3),e.TgZ(9,"ion-label",4),e._uU(10,"Username"),e.qZA(),e.TgZ(11,"ion-input",5),e.NdJ("ngModelChange",function(s){return a.credentials.username=s}),e.qZA()(),e._UZ(12,"br"),e.TgZ(13,"ion-item"),e._UZ(14,"ion-icon",6),e.TgZ(15,"ion-label",4),e._uU(16,"Password"),e.qZA(),e.TgZ(17,"ion-input",7),e.NdJ("ngModelChange",function(s){return a.credentials.password=s}),e.qZA()(),e.TgZ(18,"ion-button",8),e.NdJ("click",function(){return a.login()}),e._UZ(19,"ion-icon",9),e._uU(20," Login "),e.qZA(),e.YNc(21,v,2,4,"ion-text",10),e.qZA(),e.YNc(22,x,5,0,"div",11),e.qZA()),2&n&&(e.xp6(11),e.Q6J("ngModel",a.credentials.username),e.xp6(6),e.Q6J("ngModel",a.credentials.password),e.xp6(1),e.Q6J("disabled",a.isLoading),e.xp6(3),e.Q6J("ngIf",a.userError),e.xp6(1),e.Q6J("ngIf",a.isLoading))},directives:[r.Gu,r.sr,r.wd,r.W2,r.Ie,r.gu,r.Q$,r.pK,r.j9,c.JJ,c.On,r.YG,g.O5,r.yW,g.mk],styles:[".logo[_ngcontent-%COMP%]{display:block;margin:40px auto 32px;width:100%;max-width:250px;height:auto}.loading-spinner[_ngcontent-%COMP%]{margin-right:12px;--color: #ffffff}ion-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background:rgba(255,255,255,.8);border-radius:16px;box-shadow:0 4px 12px #0000001a;animation:fadeInUp 1s ease-in-out}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);display:flex;justify-content:center;align-items:center;z-index:1000}.loading-spinner[_ngcontent-%COMP%]{background:#ffffff;padding:16px;border-radius:8px;display:flex;align-items:center;gap:8px}.loading-spinner[_ngcontent-%COMP%]   .fa-spinner[_ngcontent-%COMP%]{font-size:24px;color:#428cff}.loading-spinner[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:16px;color:#333}"]}),o})()}];let Z=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[d.Bz.forChild(P)],d.Bz]}),o})(),M=(()=>{class o{}return o.\u0275fac=function(n){return new(n||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[g.ez,c.u5,r.Pc,Z]]}),o})()}}]);