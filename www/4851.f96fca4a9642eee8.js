"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4851],{4851:(C,m,r)=>{r.r(m),r.d(m,{HomePageModule:()=>M});var g=r(6895),i=r(4556),c=r(433),u=r(3013),d=r(5861),e=r(8256),f=r(5830),p=r(5970);function h(n,l){1&n&&e._UZ(0,"ion-icon",12)}function P(n,l){1&n&&e._UZ(0,"ion-icon",13)}const v=function(n){return{animate__shakeX:n}};function Z(n,l){if(1&n&&(e.TgZ(0,"ion-text",14),e._uU(1),e.qZA()),2&n){const o=e.oxw();e.Q6J("ngClass",e.VKq(2,v,o.userError)),e.xp6(1),e.Oqu(o.userError)}}const x=[{path:"",component:(()=>{class n{constructor(o,t,a){this.apiService=o,this.alertService=t,this.router=a,this.credentials={username:"",password:""},this.userError="",this.isLoading=!1}login(){var o=this;return(0,d.Z)(function*(){var t;o.userError="",o.credentials.username&&o.credentials.password?(o.isLoading=!0,o.apiService.login(o.credentials).subscribe({next:(t=(0,d.Z)(function*(a){localStorage.setItem("token",a.token),o.isLoading=!1,yield o.alertService.showSuccess("Login successful"),o.router.navigate(["/dashboard"],{replaceUrl:!0})}),function(s){return t.apply(this,arguments)}),error:function(){var t=(0,d.Z)(function*(a){if(o.isLoading=!1,401===a.status)o.userError="Invalid username or password.";else{let s=a.error?.error||"An error occurred. Please try again.";0===a.status?s="Cannot reach server. Check CORS or server status.":500===a.status?s="Server error. Try later.":404===a.status&&(s="API endpoint not found. Check server configuration."),yield o.alertService.showError(s,a)}console.error("Login error:",a)});return function(s){return t.apply(this,arguments)}}()})):o.userError="Please enter username and password"})()}}return n.\u0275fac=function(o){return new(o||n)(e.Y36(f.s),e.Y36(p.c),e.Y36(u.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:23,vars:7,consts:[[1,"ion-padding"],[1,"login-container"],["src","assets/logo.png","alt","iweb Logo",1,"logo","animate__animated","animate__fadeInDown"],["name","person","slot","start",1,"fa","fa-user"],["position","floating"],["placeholder","Enter username",3,"ngModel","ngModelChange"],["name","lock-closed","slot","start",1,"fa","fa-lock"],["type","password","placeholder","Enter password",3,"ngModel","ngModelChange"],["expand","block",3,"disabled","click"],["name","log-in-outline","slot","start","class","fa fa-sign-in-alt",4,"ngIf"],["name","loading","slot","start","class","fas fa-spinner fa-spin",4,"ngIf"],["class","error animate__animated",3,"ngClass",4,"ngIf"],["name","log-in-outline","slot","start",1,"fa","fa-sign-in-alt"],["name","loading","slot","start",1,"fas","fa-spinner","fa-spin"],[1,"error","animate__animated",3,"ngClass"]],template:function(o,t){1&o&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"iweb"),e.qZA()()(),e.TgZ(4,"ion-content",0)(5,"div",1),e._UZ(6,"img",2),e.TgZ(7,"ion-item"),e._UZ(8,"ion-icon",3),e.TgZ(9,"ion-label",4),e._uU(10,"Username"),e.qZA(),e.TgZ(11,"ion-input",5),e.NdJ("ngModelChange",function(s){return t.credentials.username=s}),e.qZA()(),e._UZ(12,"br"),e.TgZ(13,"ion-item"),e._UZ(14,"ion-icon",6),e.TgZ(15,"ion-label",4),e._uU(16,"Password"),e.qZA(),e.TgZ(17,"ion-input",7),e.NdJ("ngModelChange",function(s){return t.credentials.password=s}),e.qZA()(),e.TgZ(18,"ion-button",8),e.NdJ("click",function(){return t.login()}),e.YNc(19,h,1,0,"ion-icon",9),e.YNc(20,P,1,0,"ion-icon",10),e._uU(21),e.qZA(),e.YNc(22,Z,2,4,"ion-text",11),e.qZA()()),2&o&&(e.xp6(11),e.Q6J("ngModel",t.credentials.username),e.xp6(6),e.Q6J("ngModel",t.credentials.password),e.xp6(1),e.Q6J("disabled",t.isLoading),e.xp6(1),e.Q6J("ngIf",!t.isLoading),e.xp6(1),e.Q6J("ngIf",t.isLoading),e.xp6(1),e.hij(" ",t.isLoading?"Logging in...":"Login"," "),e.xp6(1),e.Q6J("ngIf",t.userError))},directives:[i.Gu,i.sr,i.wd,i.W2,i.Ie,i.gu,i.Q$,i.pK,i.j9,c.JJ,c.On,i.YG,g.O5,i.yW,g.mk],styles:[".logo[_ngcontent-%COMP%]{display:block;margin:40px auto 32px;width:100%;max-width:250px;height:auto}ion-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:18px;color:#fff}.login-container[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;background:rgba(255,255,255,.8);border-radius:16px;box-shadow:0 4px 12px #0000001a;animation:fadeInUp 1s ease-in-out}"]}),n})()}];let _=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(x)],u.Bz]}),n})(),M=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.ez,c.u5,i.Pc,_]]}),n})()}}]);